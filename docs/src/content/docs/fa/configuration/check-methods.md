---
title: روش‌های بررسی
description: گزینه‌ها و مثال‌های روش‌های بررسی
---

## روش‌های بررسی

Xray Checker از سه روش برای تأیید عملکرد پروکسی پشتیبانی می‌کند.

:::note[اندازه‌گیری تأخیر]
تمام روش‌های بررسی تأخیر را با استفاده از **TTFB (زمان تا اولین بایت)** اندازه‌گیری می‌کنند - زمان از شروع درخواست تا دریافت اولین بایت پاسخ. این اندازه‌گیری‌های تأخیر سازگار و دقیق در همه روش‌ها فراهم می‌کند.
:::

### روش بررسی IP (پیش‌فرض)

```bash
--proxy-check-method=ip
```

این روش:

1. IP فعلی را بدون پروکسی دریافت می‌کند
2. از طریق پروکسی متصل می‌شود
3. IP را از طریق پروکسی دریافت می‌کند
4. IP‌ها را مقایسه می‌کند تا تأیید کند پروکسی کار می‌کند

مزایا:

- تأیید قابل اطمینان‌تر
- عملکرد واقعی پروکسی را تأیید می‌کند
- پروکسی‌های شفاف را تشخیص می‌دهد

پیکربندی:

```bash
PROXY_CHECK_METHOD=ip
PROXY_IP_CHECK_URL=https://api.ipify.org?format=text
PROXY_TIMEOUT=30
```

### روش بررسی وضعیت

```bash
--proxy-check-method=status
```

این روش:

1. از طریق پروکسی متصل می‌شود
2. آدرس مشخص شده را درخواست می‌کند
3. کد وضعیت پاسخ را تأیید می‌کند

مزایا:

- تأیید سریع‌تر
- مصرف پهنای باند کمتر
- با فایروال‌های محدودکننده کار می‌کند

پیکربندی:

```bash
PROXY_CHECK_METHOD=status
PROXY_STATUS_CHECK_URL=http://cp.cloudflare.com/generate_204
PROXY_TIMEOUT=30
```

### روش بررسی دانلود

```bash
--proxy-check-method=download
```

این روش:

1. از طریق پروکسی متصل می‌شود
2. فایلی را از آدرس مشخص شده دانلود می‌کند
3. حداقل بایت‌های دریافتی را تأیید می‌کند

مزایا:

- قابلیت انتقال داده واقعی را تست می‌کند
- پروکسی‌های با مشکلات اتصال را تشخیص می‌دهد
- برای تأیید قابلیت استریم/دانلود مفید است

پیکربندی:

```bash
PROXY_CHECK_METHOD=download
PROXY_DOWNLOAD_URL=https://proof.ovh.net/files/1Mb.dat
PROXY_DOWNLOAD_TIMEOUT=60
PROXY_DOWNLOAD_MIN_SIZE=51200
```

:::tip[انتخاب روش مناسب]
- از **ip** برای قابل اطمینان‌ترین تأیید استفاده کنید (پیش‌فرض)
- از **status** برای بررسی‌های سریع با حداقل پهنای باند استفاده کنید
- از **download** وقتی نیاز به تأیید قابلیت انتقال داده دارید استفاده کنید
:::
