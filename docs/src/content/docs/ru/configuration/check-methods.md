---
title: Методы проверки
description: Параметры и примеры методов проверки
---

## Методы проверки

Xray Checker поддерживает три метода проверки функциональности прокси.

:::note[Измерение задержки]
Все методы проверки измеряют задержку с использованием **TTFB (Time To First Byte)** — время от начала запроса до получения первого байта ответа. Это обеспечивает согласованные и точные измерения задержки для всех методов.
:::

### Метод проверки IP (По умолчанию)

```bash
--proxy-check-method=ip
```

Этот метод:

1. Получает текущий IP без прокси
2. Подключается через прокси
3. Получает IP через прокси
4. Сравнивает IP-адреса для проверки работы прокси

Преимущества:

- Более надежная проверка
- Подтверждает реальную функциональность прокси
- Обнаруживает прозрачные прокси

Конфигурация:

```bash
PROXY_CHECK_METHOD=ip
PROXY_IP_CHECK_URL=https://api.ipify.org?format=text
PROXY_TIMEOUT=30
```

### Метод проверки статуса

```bash
--proxy-check-method=status
```

Этот метод:

1. Подключается через прокси
2. Запрашивает указанный URL
3. Проверяет код состояния ответа

Преимущества:

- Более быстрая проверка
- Меньшее использование трафика
- Работает с ограничивающими брандмауэрами

Конфигурация:

```bash
PROXY_CHECK_METHOD=status
PROXY_STATUS_CHECK_URL=http://cp.cloudflare.com/generate_204
PROXY_TIMEOUT=30
```

### Метод проверки загрузкой

```bash
--proxy-check-method=download
```

Этот метод:

1. Подключается через прокси
2. Загружает файл с указанного URL
3. Проверяет минимальное количество полученных байт

Преимущества:

- Тестирует реальную способность передачи данных
- Обнаруживает прокси с проблемами соединения
- Полезен для проверки возможности стриминга/загрузки

Конфигурация:

```bash
PROXY_CHECK_METHOD=download
PROXY_DOWNLOAD_URL=https://proof.ovh.net/files/1Mb.dat
PROXY_DOWNLOAD_TIMEOUT=60
PROXY_DOWNLOAD_MIN_SIZE=51200
```

:::tip[Выбор правильного метода]
- Используйте **ip** для наиболее надёжной проверки (по умолчанию)
- Используйте **status** для быстрых проверок с минимальным трафиком
- Используйте **download** когда нужно проверить способность передачи данных
:::
