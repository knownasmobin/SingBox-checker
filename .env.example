# Proxy Checker Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# BACKEND SELECTION
# =============================================================================
# Choose between 'xray' or 'singbox' as the proxy backend
BACKEND=xray

# =============================================================================
# SUBSCRIPTION SETTINGS
# =============================================================================
# URL(s) for proxy subscriptions (comma-separated for multiple)
# Supports: base64, JSON, share links (vless://, vmess://, trojan://, ss://)
SUBSCRIPTION_URL=https://your-subscription-url/sub

# Whether to periodically recheck subscriptions for updates
SUBSCRIPTION_UPDATE=true

# Interval between subscription updates (in seconds)
SUBSCRIPTION_UPDATE_INTERVAL=300

# =============================================================================
# WIREGUARD SETTINGS
# =============================================================================
# Path(s) to WireGuard config files or directories (comma-separated)
# Example: /app/wireguard/wg0.conf,/app/wireguard/wg1.conf
# Or a directory: /app/wireguard
WIREGUARD_CONFIG=

# =============================================================================
# PROXY CHECK SETTINGS
# =============================================================================
# Interval between proxy checks (in seconds)
PROXY_CHECK_INTERVAL=300

# Check method: ip, status, or download
# - ip: Compare source IP with proxy IP
# - status: Check HTTP status code (200-299)
# - download: Download a file and verify minimum size
PROXY_CHECK_METHOD=ip

# Timeout for proxy checks (in seconds)
PROXY_TIMEOUT=30

# URL for IP checking (used with check-method=ip)
PROXY_IP_CHECK_URL=https://api.ipify.org?format=text

# URL for status checking (used with check-method=status)
PROXY_STATUS_CHECK_URL=http://cp.cloudflare.com/generate_204

# URL for download checking (used with check-method=download)
PROXY_DOWNLOAD_URL=https://proof.ovh.net/files/1Mb.dat

# Timeout for download check (in seconds)
PROXY_DOWNLOAD_TIMEOUT=60

# Minimum bytes required for successful download check
PROXY_DOWNLOAD_MIN_SIZE=51200

# Resolve proxy server domains to IPs and create separate configs per IP
PROXY_RESOLVE_DOMAINS=false

# =============================================================================
# XRAY BACKEND SETTINGS
# =============================================================================
# Starting port for Xray SOCKS proxies
XRAY_START_PORT=10000

# Xray log level: debug, info, warning, error, none
XRAY_LOG_LEVEL=none

# =============================================================================
# SING-BOX BACKEND SETTINGS
# =============================================================================
# Starting port for sing-box SOCKS proxies
SINGBOX_START_PORT=10000

# sing-box log level: debug, info, warn, error, silent
SINGBOX_LOG_LEVEL=warn

# =============================================================================
# METRICS SETTINGS
# =============================================================================
# Host to listen on
METRICS_HOST=0.0.0.0

# Port to listen on
METRICS_PORT=2112

# Protect metrics and API with basic auth
METRICS_PROTECTED=false

# Basic auth credentials (required if METRICS_PROTECTED=true)
METRICS_USERNAME=admin
METRICS_PASSWORD=your-secure-password

# Instance label for Prometheus metrics
METRICS_INSTANCE=

# Prometheus Pushgateway URL (optional)
# Format: https://user:pass@host:port
METRICS_PUSH_URL=

# Base path for metrics endpoint (e.g., /xray/metrics)
METRICS_BASE_PATH=

# =============================================================================
# WEB UI SETTINGS
# =============================================================================
# Show server IP addresses and ports in web UI
WEB_SHOW_DETAILS=false

# Make dashboard public (requires METRICS_PROTECTED=true)
WEB_PUBLIC=false

# Path to custom assets directory
WEB_CUSTOM_ASSETS_PATH=

# =============================================================================
# GENERAL SETTINGS
# =============================================================================
# Log level: debug, info, warn, error, none
LOG_LEVEL=info

# Run one check cycle and exit
RUN_ONCE=false
